<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript">
	//jquery 비동기 처리
	//.load()
	//$(selector).load(url[,data,callback]); 콜백4번
	
	//load의 목적
	//1.서버에서 받는 데이터가 html, text
	//2.client의 특정 요소에 삽입을 목적
	
	$(function(){
		$('#btn').click(function(){
			//$('#display').load("Ex01_Ajax_load.jsp"); 1.가장 간단한 방법
			$('#display').load(
					'Ex01_Ajax_load.jsp',
					{"msg":$('#msg2').val()}, //Ex01_Ajax_load.jsp?msg=TEST
					function(responseText, statusText, xhr){
						//responseText: 서버에서 응답한 결과값
						//statusText: 서버에서 실행한 결과(success, error)
						//xhr: xmlHttpRequest 객체 전달
						if(statusText=="success"){
							alert("200~300사이: "+responseText);
						}
						if(statusText=="error"){
							alert("실패: "+xhr.status+xhr.statusText);
						}
						
					}
				);
		});
	});
</script>
<title>Insert title here</title>
</head>
<body>
	<h3>동기처리</h3>
	<div id="frmsend">
		<form action="Ex01_Ajax_load.jsp">
			<input type="text" name="msg" id="msg">
			<input type="submit" value="동기전송">	
		</form>
	</div>
	<h3>비동기처리</h3>
	<input type="button" id="btn" value="비동기전송">
	<input type="text" name="msg" id="msg2">
	<div id="display"></div>
</body>
</html>